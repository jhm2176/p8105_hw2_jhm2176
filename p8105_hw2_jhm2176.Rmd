---
title: "Homework 2"
author: "Jenesis Merriman"
date: "October 5, 2022"
output: github_document
---

```{r setup}
library(tidyverse)
library(readxl)
```

## Problem 1

The below code uses `readr` and `janitor::clean_names()` to import and clean the data. It also uses `select` to retain line, station, name, station latitude / longitude, routes served, entry, vending, entrance type, and ADA compliance and and `mutate` to convert the entry variable from character (YES vs NO) to a logical variable.

```{r}
transit_data = read_csv(
  file = "./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv",
  col_types = cols(Route8 = "c", Route9 = "c", Route10 = "c", Route11 = "c")) %>%
  janitor::clean_names() %>%
  select(line, station_name, station_latitude,
         station_longitude, route1:route11, entry, vending,
         entrance_type, ada)  %>%
  mutate(entry = recode(entry, "YES" = TRUE, "NO" = FALSE))
```

*This dataset focuses on NYC transit data and includes the variables line, station, name, station latitude, station longitude, routes served (1-11), entry, vending, entrance type, and ADA compliance. In order to clean the data, I imported the data, updated variable types, cleaned variable names, and selected the relevant columns. I then updated `entry` from `yes` / `no` to a logical variable. The resulting data set is 1868 rows x 19 columns. These data are not "tidy" in its current state. To further tidy our data, we would need to convert `route` variables from wide to long format.*

Answer the following questions using these data:

**How many distinct stations are there?**

```{r}
transit_data %>% 
  select(station_name, line) %>% 
  distinct
```
*There are 465 distinct stations in the NYC transit system, according to our dataset.*

**How many stations are ADA compliant?**

```{r}
transit_data %>% 
  filter(ada == TRUE) %>% 
  select(station_name, line) %>% 
  distinct
```
*There are 84 ADA compliant stations in the NYC transit system, according to our dataset.*

**What proportion of station entrances / exits without vending allow entrance?**

```{r}
transit_data %>% 
  filter(vending == "NO") %>% 
  pull(entry) %>% 
  mean
```
*The proportion of station entrances / exits without vending that allow entrance is 0.377.*

Reformat data so that route number and route name are distinct variables. How many distinct stations serve the A train? Of the stations that serve the A train, how many are ADA compliant?

```{r}
transit_data %>%
  pivot_longer(
    route1:route11,
    names_to = "route_number", 
    names_prefix = "route",
    values_to = "route_name") %>%
    filter(route_name == "A") %>%
  select(station_name, line) %>% 
  distinct

transit_data %>%
  pivot_longer(
    route1:route11,
    names_to = "route_number", 
    names_prefix = "route",
    values_to = "route_name") %>%
  filter(route_name == "A", ada == TRUE) %>% 
  select(station_name, line) %>% 
  distinct
```
*60 distinct stations serve the A train. Of these stations, 17 are ADA compliant.*


##Problem 2
```{r}

```


```{r}

```

```{r}

```

